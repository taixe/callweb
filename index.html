<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Web Voip</title>
    <link rel="icon" type="image/gif" href="img/favicon.ico" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="css/ctxSip.css" rel="stylesheet" type="text/css" />
   <script>
        let params = new URLSearchParams(location.search);
        let token = params.get('token')
        localStorage.setItem('token', token);
    </script>
    <style>


</style>

</head>
<body id="sipClient">
<div class="container-fluid">

    <div class="clearfix sipStatus">
        <div id="txtCallStatus" class="pull-right">&nbsp;</div>
        <div id="txtRegStatus"></div>
    </div>
    <center>


        <div class="flex-container">
            <div class="flex-avatar" style="flex-grow:1">
              <img src="https://lab-qup.s3.amazonaws.com/images/avatar/avatarDefault.png" id="avatar">
            </div> 
            <div class="flex-infor " style="flex-grow:2">
            <div >
                    <div class ="infor-left" style="flex-grow:1">
                        Driver:
                    </div>
                    <div class="infor-right" id="driver-name-phone" style="flex-grow:2">
                        Xxxxxx | +XXX XXX XXXX
                    </div>
             </div>
             <div >
                    <div class ="infor-left" style="flex-grow:1">
                        Car:
                    </div>
                    <div class="infor-right" id="vehicletype-platenumber" style="flex-grow:2">
                        Xxxxxx | XXXXXX
                    </div>
                </div>
            </div>
        </div>
        <div style="min-height: 10px;">

        </div>
        <div style=" min-height: 1px; background-color: #252932"></div>
        <div style="min-height: 10px;"> </div>
         <div id="content">
                <div id="btn-call-center">
                    <button class="btn" id="btnCall" style="font-size:26px;color:#fefffe;"><i class="fa fa-phone"></i>
                    </button>
                    <div style="min-height: 10px;"></div>
                    <div style="min-height: 35; color: #9a9b9a">Call</div>
                </div>
                
                <div id="btn-call-left" style="display: none;">
                    <button class="btn" id="btnMute" style="font-size:26px;color:#fefffe;"><i class="fa fa-microphone-slash"></i>
                    </button>
                    <div style="min-height: 10px;"></div>
                    <div style="min-height: 35; color: #9a9b9a">Mute</div>
                </div>
                <div id="btn-call-right" style="display: none;">
                    <button class="btn" id="btnHangUp" style="font-size:26px;color:#fefffe;"><i class="fa fa-phone"></i>
                    </button>
                    <div style="min-height: 10px;"></div>
                    <div style="min-height: 35; color: #9a9b9a">Decline</div>
                </div>
            </div>
             
    </center>

           
        </div>
    </div>


<audio id="ringtone" src="sounds/incoming.mp3" loop></audio>
<audio id="ringbacktone" src="sounds/outgoing.mp3" loop></audio>
<audio id="dtmfTone" src="sounds/dtmf.mp3"></audio>
<audio id="audioRemote"></audio>

<script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script type="text/javascript" src="scripts/moment.js/moment.min.js"></script>

<script type="text/javascript" src="scripts/SIP.js/sip.min.js"></script>
<!-- <script type="text/javascript" src="scripts/config.js"></script> -->
<script type="text/javascript" src="scripts/app.js"></script>
<script>
        //let params = new URLSearchParams(location.search);
        let userId = params.get('userId')

        let driverName = params.get('driverName')
        let phone = params.get('phone').replace(" ", "+") 
        let phoneVoip = params.get('phone').replace(" ", "+0") 
        let plateNumber = params.get('plateNumber')
        let vehicleType = params.get('vehicleType')
        let avatar = params.get('avatar')
        let fleetId = params.get('fleetId')
        localStorage.setItem('phone', phone);


        document.getElementById('driver-name-phone').innerHTML = driverName.length>15?driverName.substring(0, 15)+"..."+ " | " +phone:driverName + " | " +phone ;
        document.getElementById('vehicletype-platenumber').innerHTML = vehicleType + " | " +plateNumber ;
        document.getElementById('avatar').src= avatar

          
    </script>

</body>
</html>
